"use strict";var elGridView,elListView,list,jsondata=[],body=document.querySelector("body"),modal=document.querySelector(".modal"),modalContent=document.querySelector(".modal-content"),modalCloseBtn=document.querySelector(".js-close-button"),urlParams=new URLSearchParams(window.location.search);function _init(){function e(e,r){var i=new XMLHttpRequest,o="http://www.timoerlemans.nl/xhr/xhr.php";i.onreadystatechange=function(){if(i.readyState==XMLHttpRequest.DONE){var e=JSON.parse(i.responseText);"fail"!==e.status&&"error"!==e.status||n(!0,e.message,!0);var r=e.data;body.classList.contains("overview-page")?function(e){for(var n in e){var r=document.createElement("li");r.setAttribute("id",e[n].id),r.classList.add("profiles-list__item");var i=document.createElement("a");i.classList.add("profiles-list__preview"),i.setAttribute("href","/profile.html?id="+e[n].id);var o=document.createElement("span");o.classList.add("profiles-list__name"),o.textContent=e[n].name;var s=document.createElement("button");s.classList.add("btn--remove"),s.textContent="x",list.appendChild(r),r.appendChild(i),i.appendChild(o),i.appendChild(s)}t(!1)}(r):body.classList.contains("profile-page")?urlParams.has("id")?function(e,n){for(var r in e)e[r].id===n&&(document.querySelector(".js-profile-img").setAttribute("src",e[r].picture),document.querySelector(".js-profile-name").innerHTML=e[r].name,document.querySelector(".js-profile-birthday").innerHTML=e[r].birthday,document.querySelector(".js-profile-email").innerHTML=e[r].email,document.querySelector(".js-profile-address").innerHTML=e[r].address,document.querySelector(".js-profile-bio").innerHTML=e[r].bio,t())}(r,parseInt(urlParams.get("id"))):(n(!0,'<p>Er is geen profielID gevonden, profiel kan niet weergegeven worden. <a href="/">Ga terug naar het overzicht</a>.</p>',!0),t()):body.classList.contains("create-profile")&&t()}},e&&"read"!==e||i.open("GET",o+"?type=read",!0),"remove"!==e||isNaN(parseInt(r))||i.open("GET",o+"?type=remove&id="+r,!0),i.send(null)}function t(e){e?document.querySelector(".loader").classList.remove("hidden"):document.querySelector(".loader").classList.add("hidden")}function n(e,t,n){e?(modalContent.innerHTML=t,modal.classList.add("open")):(modal.classList.remove("open"),modalContent.innerHTML=""),n?(modalCloseBtn.classList.add("hidden"),modal.classList.add("hide-all")):(modalCloseBtn.classList.remove("hidden"),modal.classList.remove("hide-all"))}(e(),body.classList.contains("overview-page")&&(elGridView=document.querySelector(".js-grid-view"),elListView=document.querySelector(".js-list-view"),list=document.querySelector(".profiles__list"),elGridView.addEventListener("click",function(e){e.preventDefault(),list.classList.add("profiles__list--grid")}),elListView.addEventListener("click",function(e){e.preventDefault(),list.classList.remove("profiles__list--grid")})),body.classList.contains("profile-page"))&&document.querySelector(".js-remove-profile").addEventListener("click",function(r){var i,o;n(!0,'<p>Weet je zeker dat je dit profiel wilt verwijderen?</p><button type="button" class="js-confirm-remove">Heel zeker</button><button type="button" class="js-cancel-remove">Niet zo zeker</button>'),i=document.querySelector(".js-confirm-remove"),o=document.querySelector(".js-cancel-remove"),i.addEventListener("click",function(r){e("remove",urlParams.get("id")),t(!0),n(!1)}),o.addEventListener("click",function(e){n(!1)})});modalCloseBtn.addEventListener("click",function(e){modalShow(!1)})}document.addEventListener("DOMContentLoaded",_init,!1);
//# sourceMappingURL=build.js.map
